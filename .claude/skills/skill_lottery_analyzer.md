# Lottery Analyzer Skill

## 描述

彩票数据统计分析专家。负责对双色球(SSQ)和大乐透(DLT)的历史开奖数据进行统计分析，包括热号冷号、遗漏值、奇偶比、大小比等多种指标的计算和可视化。

**⚠️ 重要声明**: 本技能所有分析仅供娱乐参考，不构成任何形式的投注建议。彩票开奖是完全随机的独立事件。

---

## 能力

### 1. 热号/冷号分析
- 统计最近N期（默认100期）各号码出现频率
- 计算热号TOP10和冷号TOP10
- 生成号码出现频率分布图

### 2. 遗漏值分析
- 计算每个号码的当前遗漏期数
- 统计最大遗漏值和平均遗漏值
- 识别遗漏值较高的号码

### 3. 奇偶比分析
- 统计红球/前区的奇偶比例分布
- 计算3:3、4:2、2:4等各种比例的出现次数
- 分析奇偶比的趋势

### 4. 大小比分析
- 双色球：以16为界区分大小
- 大乐透：以18为界区分大小
- 统计各种大小比例的出现频率

### 5. 连号分析
- 识别连续号码组合（如12,13或28,29,30）
- 统计连号出现的频率
- 分析连号的位置分布

### 6. 区间分布分析
- 双色球分3区：1-11, 12-22, 23-33
- 大乐透分5区：1-7, 8-14, 15-21, 22-28, 29-35
- 统计各区间的号码分布情况

### 7. 和值分析
- 计算红球/前区号码总和
- 统计和值的分布范围
- 分析和值的集中趋势

### 8. 跨度分析
- 计算最大号与最小号之差
- 统计跨度的分布情况

---

## 使用方法

### 命令格式

```
/analyze <lottery_type> [options]
```

### 参数说明

| 参数 | 说明 | 可选值 | 默认值 |
|------|------|--------|--------|
| `lottery_type` | 彩票类型 | `ssq`, `dlt` | 必填 |
| `--periods` | 分析期数 | 任意正整数 | 100 |
| `--metric` | 分析指标 | `hot-cold`, `missing`, `odd-even`, `big-small`, `consecutive`, `zone`, `sum`, `span`, `all` | `all` |

### 使用示例

**1. 全面分析双色球最近100期**
```
/analyze ssq
```

**2. 分析大乐透最近50期的热号冷号**
```
/analyze dlt --periods 50 --metric hot-cold
```

**3. 分析双色球遗漏值**
```
/analyze ssq --metric missing
```

**4. 分析大乐透奇偶比分布**
```
/analyze dlt --metric odd-even
```

---

## 输出格式

### 标准输出

```markdown
## 📊 双色球统计分析报告

**分析期数**: 最近100期（2025023期 - 2025122期）
**分析时间**: 2026-02-07 14:30:00

---

### 🔥 热号TOP10（出现频率最高）

| 排名 | 号码 | 出现次数 | 频率 | 趋势 |
|------|------|----------|------|------|
| 1 | 12 | 18次 | 18.0% | ↑ |
| 2 | 07 | 16次 | 16.0% | → |
| 3 | 23 | 15次 | 15.0% | ↓ |
| ... | ... | ... | ... | ... |

### ❄️ 冷号TOP10（出现频率最低）

| 排名 | 号码 | 出现次数 | 频率 | 遗漏 |
|------|------|----------|------|------|
| 1 | 33 | 4次 | 4.0% | 25期 |
| 2 | 01 | 5次 | 5.0% | 18期 |
| ... | ... | ... | ... | ... |

### 📉 遗漏值分析

| 号码 | 当前遗漏 | 最大遗漏 | 平均遗漏 |
|------|----------|----------|----------|
| 33 | 25期 | 45期 | 22期 |
| 01 | 18期 | 38期 | 19期 |
| ... | ... | ... | ... |

### ⚖️ 奇偶比分布

| 比例 | 出现次数 | 占比 |
|------|----------|------|
| 3:3 | 35次 | 35.0% |
| 4:2 | 28次 | 28.0% |
| 2:4 | 22次 | 22.0% |
| 5:1 | 10次 | 10.0% |
| 1:5 | 5次 | 5.0% |

### 📏 大小比分布

| 比例 | 出现次数 | 占比 |
|------|----------|------|
| 3:3 | 38次 | 38.0% |
| 4:2 | 25次 | 25.0% |
| 2:4 | 20次 | 20.0% |
| ... | ... | ... |

### 🔗 连号分析

- 出现连号期数: 42期 (42.0%)
- 最常见的连号: 12-13 (8次)
- 二连号: 38次
- 三连号: 4次

---

⚠️ **免责声明**: 以上分析仅供娱乐参考，不构成投注建议。彩票开奖完全随机。

数据来源: 中国福彩/体彩官网
```

---

## 工作流程

### 分析执行流程

```
1. 接收分析请求
   ↓
2. 验证参数（彩票类型、期数范围）
   ↓
3. 加载历史数据
   ↓
4. 执行统计分析
   ├─ 热号冷号统计
   ├─ 遗漏值计算
   ├─ 奇偶比/大小比分析
   ├─ 连号识别
   └─ 区间分布统计
   ↓
5. 生成分析报告
   ↓
6. 输出结果（含免责声明）
```

---

## 技术规范

### 数据结构

**统计结果结构:**
```json
{
  "lottery_type": "ssq",
  "periods_analyzed": 100,
  "date_range": {
    "start": "2025023",
    "end": "2025122"
  },
  "red_ball_stats": {
    "hot_numbers": [
      {"number": 12, "count": 18, "frequency": 0.18}
    ],
    "cold_numbers": [
      {"number": 33, "count": 4, "frequency": 0.04}
    ],
    "missing_values": {
      "33": {"current": 25, "max": 45, "average": 22}
    },
    "odd_even_ratio": {
      "3:3": 35, "4:2": 28, "2:4": 22
    },
    "big_small_ratio": {
      "3:3": 38, "4:2": 25, "2:4": 20
    }
  },
  "blue_ball_stats": {
    "hot_numbers": [...],
    "cold_numbers": [...],
    "missing_values": {...}
  }
}
```

### 性能要求

- 分析100期数据: < 1秒
- 分析1000期数据: < 3秒
- 内存占用: < 50MB

---

## 错误处理

### 常见错误

| 错误类型 | 错误信息 | 处理方式 |
|---------|---------|---------|
| 数据不足 | "历史数据不足N期" | 提示用户数据量，使用可用数据 |
| 无效彩种 | "不支持的彩票类型" | 提示支持的类型 |
| 数据文件缺失 | "数据文件不存在" | 提示先运行数据获取 |
| 参数错误 | "无效的分析指标" | 显示可用指标列表 |

---

## 安全与伦理

### 必须遵守

1. **始终强调随机性**
   - 在报告开头和结尾都包含免责声明
   - 明确说明历史数据不能预测未来

2. **娱乐定位**
   - 使用"分析"而非"预测"
   - 不暗示任何号码更可能中奖

3. **数据准确性**
   - 确保统计数据准确无误
   - 标明数据来源和时间

---

**版本**: v1.0.0  
**最后更新**: 2026-02-07
